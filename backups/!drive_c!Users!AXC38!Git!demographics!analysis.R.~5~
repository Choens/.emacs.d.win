# ##############################################################################
# Project Name / File Name
#
# Author Name / Email@email.com
#
# Brief description of this file.
#
# ##############################################################################

# ==============================================================================
# Initialize Session
# ==============================================================================

# ---------- Libraries ----------
#library("package_name")

# ---------- Sourced Files ----------
source("config.R")
#source("lib/file_name.R")

# ---------- Variables ----------


# ------------------------------------------------------------------------------
# Load Data / Queries
# ------------------------------------------------------------------------------

# ---------- ODBC Connection ----------
qry <- paste( readLines('sql/q_recip_profile.sql'), collapse='\r\n'  )qry

recip_profile<- sqlQuery(con, qry )

# The QA piece isn't working well, but the output of the query is:
# 'NROWS' 			  N
# ------------------------ ----------
# N Distinct recip_id	       278075
# N Present In Both Tables     191048
# N Rows			          1269587

dim(recip_profile)
# [1] 1269587      14
# The TOTOAL numbers match but there are some interesting
# discrepancies in the matching across the two data sets.

names(recip_profile)

# [1] "CAL_MONTH"                "RECIP_ID"
# [3] "HEALTH_HOME_MMIS_ID"      "PLAN_ID"
# [5] "CARE_MGMT_AGENCY_MMIS_ID" "DIRECT_BILL_IND"
# [7] "OUTREACH_ENROLL_CODE"     "REFERRAL_CODE"
# [9] "BEGIN_MONTH_IND"          "END_MONTH_IND"
#[11] "DISENROLL_CODE"           "HHWEB"
#[13] "CMART"                    "RATE_CODES"


# ==============================================================================
# Analysis
# ==============================================================================

# ------------------------------------------------------------------------------
# Section 01
# ------------------------------------------------------------------------------

# ---------- xxx ----------


# ---------- xxx ----------


# ------------------------------------------------------------------------------
# Section 02
# ------------------------------------------------------------------------------

# ---------- xxx ----------



# ---------- xxx ----------


# ==============================================================================
# Exit
# ==============================================================================

odbcClose(con)

save(
    list = ls()
    ,file = "data/.RData"
    )

q()
