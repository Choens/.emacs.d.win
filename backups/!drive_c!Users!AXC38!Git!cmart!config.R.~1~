# ##############################################################################
# Project Config File
#
# Sections:
# - Packages
# - Package Config
# - Sourced Files
# - R Config
# ##############################################################################


# ==============================================================================
# Packages
#
# - Uncomment any packages you need.
# - Missing packages will first be installed and then all packages in the list
#   will be loaded into the active session.
# - The process may appear stalled if it needs to install several packages.
#
# ==============================================================================

packages <- c(

    # Your FIRST package should NOT start with a comma!
    
    # ---------------- Data Import / Export ----------------
    #,'foreign'
    #,'RODBC'
    #,'XLConnect'
    # ---------------- Data Processing ---------------------
    #,'data.table'
    #,'devtools'
    #,'dplyr'
    #,'foreign'
    #,'Hmisc'
    #,'knitr'
    #,'stringr'
    #,'testthat'
    # ---------------- Graphics ----------------------------
    #,'ggplot2'
    )
if(length(packages[!packages %in% installed.packages()]) > 0 ) {
    paste("Installing the following packages:")
    paste(packages[!packages %in% installed.packages()])
    install.packages( packages[!packages %in% installed.packages()] )
}
paste("Loading the following packages:")
paste(packages)
lapply(packages, library, character.only=T)


# ==============================================================================
# Package Config
#
# - Packages are listed in alphabetical order.
#
# ==============================================================================

# ---- knitr -------------------------------------------------------------------

# Markdown -> HTML Style
#library(knitr)
#options(
#    rstudio.markdownToHTML = function(inputFile, outputFile) {     
#        require(markdown)
#        markdownToHTML(inputFile, outputFile, stylesheet='HZA.css')  
#    }
#)

# This is something I should work towards.
# options(
#     markdown.HTML.header = unlist(
#         sapply(
#             system.file(
#                 "misc"
#                 ,c("HZA.css", "datatables.txt")
#                 ,package = "knitr"
#             )
#             , readLines
#         )
#     )
# )

# ---- RODBC -------------------------------------------------------------------

# con <- odbcConnect('ODBC Connection'
#                    ,uid = getOption("Your_Database_Option_Name")$uid
#                    ,pwd = getOption("Your_Database_Option_Name")$pwd
#                    )

# If you use this, be sure to CLOSE all open RODBC sessions before exiting R.

# ==============================================================================
# Sourced Files
#
# - Function files you want loaded, regardless of which script is actually run.
#
# ==============================================================================

# source("lib/file_name.R")
# source("lib/file_name.R")


# ==============================================================================
# R Setup
#
# Supersedes settings in your personal .Rprofile.
# ==============================================================================

# ---------- General R Options ----------
# options(prompt="> ")
# options(continue="+ ") 
options(tab.width = 4) 
options(width = 80)
options(graphics.record=TRUE)

options( init = 1 )


.Last <- function(){
    
    # Uncomment this to close ALL ODBC connections when exiting R.
    #odbcClose(con)

    options( init = 0 )
    
# }
